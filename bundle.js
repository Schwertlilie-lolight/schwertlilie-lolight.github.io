HTMLElement.prototype.isVisible=function(){return"none"!==window.getComputedStyle(this).display},HTMLElement.prototype.width=function(){return parseFloat(window.getComputedStyle(this).width)},HTMLElement.prototype.height=function(){return parseFloat(window.getComputedStyle(this).height)},HTMLElement.prototype.outerHeight=function(e){var t=this.offsetHeight;if(!e)return t;var i=window.getComputedStyle(this);return t+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)},HTMLElement.prototype.css=function(e){for(var t in e)this.style[t]=e[t];return this},NexT.utils={wrapImageWithFancyBox:function(){document.querySelectorAll(".post-body img").forEach(e=>{var t=$(e),i=t.attr("title")||t.attr("alt"),a=t.parent("a");if(a.length<1){var n=t.attr("data-src")||t.attr("src");a=t.wrap(`<a class="fancybox fancybox.image" href="${n}" itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>`).parent("a"),t.is(".post-gallery img")?(a.addClass("post-gallery-img"),a.attr("data-fancybox","gallery").attr("rel","gallery")):t.is(".group-picture img")?a.attr("data-fancybox","group").attr("rel","group"):a.attr("data-fancybox","default").attr("rel","default")}i&&(a.append(`<p class="image-caption">${i}</p>`),a.attr("title",i).attr("data-caption",i))}),$.fancybox.defaults.hash=!1,$(".fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})},registerExtURL:function(){document.querySelectorAll(".exturl").forEach(e=>{e.addEventListener("click",e=>{var t=e.currentTarget.getAttribute("data-url"),i=decodeURIComponent(escape(window.atob(t)));return window.open(i,"_blank","noopener"),!1})})},registerCopyCode:function(){$(".highlight").not(".gist .highlight").each((e,t)=>{function i(e){"mac"===CONFIG.copycode.style?e.html('<i class="fa fa-clipboard"></i>'):e.text(CONFIG.translation.copy_button)}var a=$("<div>").addClass("copy-btn");a.on("click",e=>{var t=[...e.currentTarget.parentNode.querySelectorAll(".code .line")].map(e=>e.innerText).join("\n"),i=document.createElement("textarea"),a=window.scrollY;i.style.top=a+"px",i.style.position="absolute",i.style.opacity="0",i.readOnly=!0,i.value=t,document.body.appendChild(i);const n=document.getSelection(),r=n.rangeCount>0&&n.getRangeAt(0);i.select(),i.setSelectionRange(0,t.length),i.readOnly=!1;var o=document.execCommand("copy");CONFIG.copycode.show_result&&(e.currentTarget.innerText=o?CONFIG.translation.copy_success:CONFIG.translation.copy_failure),i.blur(),e.currentTarget.blur(),r&&(n.removeAllRanges(),n.addRange(r)),document.body.removeChild(i)}),a.on("mouseleave",e=>{setTimeout(()=>{i($(e.currentTarget))},300)}),i(a),$(t).wrap($("<div>").addClass("highlight-wrap")).after(a)})},registerScrollPercent:function(){var e=document.querySelector(".back-to-top"),t=document.querySelector(".reading-progress-bar");$(window).on("load scroll",()=>{var i;if(e||t){var a=document.querySelector(".container").height(),n=window.innerHeight,r=a>n?a-n:document.body.scrollHeight-n,o=Math.round(100*window.scrollY/r);i=Math.min(o,100)+"%"}e&&(window.scrollY>50?e.classList.add("back-to-top-on"):e.classList.remove("back-to-top-on"),e.querySelector("span").innerText=i),t&&(t.style.width=i)}),e&&e.addEventListener("click",()=>{$(document.documentElement).animate({scrollTop:0})})},registerTabsTag:function(){$(".tabs ul.nav-tabs .tab").on("click",e=>{if(e.preventDefault(),!e.currentTarget.classList.contains("active")){[...e.currentTarget.parentNode.children].forEach(e=>{e.classList.remove("active")}),e.currentTarget.classList.add("active");var t=e.currentTarget.querySelector("a").getAttribute("href");[...(t=document.querySelector(t)).parentNode.children].forEach(e=>{e.classList.remove("active")}),t.classList.add("active"),t.dispatchEvent(new Event("tabs:click",{bubbles:!0}))}}),window.dispatchEvent(new Event("tabs:register"))},registerCanIUseTag:function(){window.addEventListener("message",e=>{var t=e.data;if("string"==typeof t&&t.indexOf("ciu_embed")>-1){var i=t.split(":")[1],a=t.split(":")[2];$(`iframe[data-feature=${i}]`).height(parseInt(a,10)+30)}},!1)},registerActiveMenuItem:function(){document.querySelectorAll(".menu-item").forEach(e=>{var t=e.querySelector("a[href]"),i=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html",""),a="/"!==t.pathname&&0===location.pathname.indexOf(t.pathname);t.hostname===location.hostname&&(i||a)?e.classList.add("menu-item-active"):e.classList.remove("menu-item-active")})},embeddedVideoTransformer:function(){var e=new RegExp(["www.youtube.com","player.vimeo.com","player.youku.com","music.163.com","www.tudou.com"].join("|"));function t(e){return{width:e.width(),height:e.height()}}function i(e,t){return t/e*100}document.querySelectorAll("iframe").forEach(a=>{var n,r=t(a);if(a.src.search(e)>0){var o=i(r.width,r.height);a.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0"});var s=document.createElement("div");if(s.className="fluid-vids",s.style.position="relative",s.style.marginBottom="20px",s.style.width="100%",s.style.paddingTop=o+"%",""===s.style.paddingTop&&(s.style.paddingTop="50%"),a.parentNode.insertBefore(s,a),s.appendChild(a),a.src.search("music.163.com")>0)((n=t(a)).width>r.width||n.height<r.height)&&(s.style.paddingTop=i(n.width,r.height)+"%")}})},hasMobileUA:function(){var e=navigator.userAgent;return/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g.test(e)},isTablet:function(){return window.screen.width<992&&window.screen.width>767&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},isMuse:function(){return"Muse"===CONFIG.scheme},isMist:function(){return"Mist"===CONFIG.scheme},isPisces:function(){return"Pisces"===CONFIG.scheme},isGemini:function(){return"Gemini"===CONFIG.scheme},escapeSelector:function(e){return e.replace(/[!"$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g,"\\$&")},updateSidebarPosition:function(){if(this.isDesktop()&&!this.isPisces()&&!this.isGemini()){var e=$(".post-toc-content"),t=CONFIG.page.sidebar;if("boolean"!=typeof t){var i=e.length>0&&e.html().trim().length>0;t="always"===CONFIG.sidebar.display||"post"===CONFIG.sidebar.display&&i}t&&window.dispatchEvent(new Event("sidebar:show"))}},getSidebarSchemePadding:function(){var e=$(".sidebar-inner"),t=e.innerWidth()-e.width(),i="block"===$(".sidebar-nav").css("display")?$(".sidebar-nav").outerHeight(!0):0,a=CONFIG.sidebar.offset||12,n=CONFIG.back2top.enable&&CONFIG.back2top.sidebar?document.querySelector(".back-to-top").height():a;return this.isPisces()||this.isGemini()?2*t+i+a+n:2*t+i/2},getScript:function(e,t,i){i?t():$.ajax({url:e,dataType:"script",cache:!0}).then(t)}};;NexT.motion={},NexT.motion.integrator={queue:[],cursor:-1,init:function(){return this.queue=[],this.cursor=-1,this},add:function(t){return this.queue.push(t),this},next:function(){this.cursor++;var t=this.queue[this.cursor];$.isFunction(t)&&t(NexT.motion.integrator)},bootstrap:function(){this.next()}},NexT.motion.middleWares={logo:function(t){var i=[],o=$(".brand"),n=$(".custom-logo-image"),e=$(".site-title"),s=$(".site-subtitle"),r=$(".logo-line-before i"),a=$(".logo-line-after i");function u(t){return(t=Array.isArray(t)?t:[t]).every(t=>t.length>0)}function c(t,i){return{e:$(t),p:{translateX:i},o:{duration:500,sequenceQueue:!1}}}function l(){i.push({e:n,p:{opacity:1,top:0},o:{duration:200}})}o.length>0&&i.push({e:o,p:{opacity:1},o:{duration:200}}),NexT.utils.isMist()&&u([r,a])&&i.push(c(r,"100%"),c(a,"-100%")),NexT.utils.isMuse()&&u(n)&&l(),u(e)&&i.push({e:e,p:{opacity:1,top:0},o:{duration:200}}),u(s)&&i.push({e:s,p:{opacity:1,top:0},o:{duration:200}}),(NexT.utils.isPisces()||NexT.utils.isGemini())&&u(n)&&l(),i.length>0?(i[i.length-1].o.complete=function(){t.next()},$.Velocity.RunSequence(i)):t.next(),CONFIG.motion.async&&t.next()},menu:function(t){$(".menu-item").velocity("transition.slideDownIn",{display:null,duration:200,complete:function(){t.next()}}),CONFIG.motion.async&&t.next()},postList:function(t){var i=$(".post-block, .pagination, .comments"),o=CONFIG.motion.transition.post_block,n=$(".post-header"),e=CONFIG.motion.transition.post_header,s=$(".post-body"),r=CONFIG.motion.transition.post_body,a=$(".collection-title, .archive-year"),u=CONFIG.motion.transition.coll_header;if(i.length>0){var c=window.postMotionOptions||{stagger:100,drag:!0,complete:function(){t.next()}};CONFIG.motion.transition.post_block&&i.velocity("transition."+o,c),CONFIG.motion.transition.post_header&&n.velocity("transition."+e,c),CONFIG.motion.transition.post_body&&s.velocity("transition."+r,c),CONFIG.motion.transition.coll_header&&a.velocity("transition."+u,c)}(NexT.utils.isPisces()||NexT.utils.isGemini())&&t.next()},sidebar:function(t){NexT.utils.updateSidebarPosition();var i=$(".sidebar-inner"),o=CONFIG.motion.transition.sidebar;CONFIG.motion.transition.sidebar&&(NexT.utils.isPisces()||NexT.utils.isGemini())&&i.velocity("transition."+o,{display:null,duration:200,complete:function(){i.css("transform","initial")}}),t.next()}};;window.addEventListener("DOMContentLoaded",()=>{"use strict";var e=()=>{localStorage.setItem("bookmark"+location.pathname,window.scrollY)},t=()=>{var e=localStorage.getItem("bookmark"+location.pathname);e=parseInt(e,10),isNaN(e)||""!==location.hash||$(document.documentElement).animate({scrollTop:e},"fast")};!function(o){var a=document.querySelector(".book-mark-link");window.addEventListener("scroll",()=>{0===window.scrollY?a.classList.add("book-mark-link-fixed"):a.classList.remove("book-mark-link-fixed")}),"auto"===o&&(addEventListener("beforeunload",e),addEventListener("pjax:send",e)),a.addEventListener("click",t=>{t.preventDefault(),e(),$(a).animate({top:-30},"fast",()=>{setTimeout(()=>{a.style.top=""},400)})}),t(),window.addEventListener("pjax:success",t)}(CONFIG.bookmark.save)});;(t=>{class e{constructor(e,i){this.options=t.extend({offset:0,target:window},i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",this.checkPosition.bind(this)).on("click.bs.affix.data-api",this.checkPositionWithEventLoop.bind(this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()}getState(t,e,i,o){let n=this.$target.scrollTop(),s=this.$element.offset(),f=this.$target.height();if(null!=i&&"top"===this.affixed)return n<i&&"top";if("bottom"===this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+f<=t-o)&&"bottom";let a=null==this.affixed,h=a?n:s.top;return null!=i&&n<=i?"top":null!=o&&h+(a?f:e)>=t-o&&"bottom"}getPinnedOffset(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");let t=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t}checkPositionWithEventLoop(){setTimeout(this.checkPosition.bind(this),1)}checkPosition(){if(!this.$element.is(":visible"))return;let i=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,f=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));let a=this.getState(f,i,n,s);if(this.affixed!==a){null!=this.unpin&&this.$element.css("top","");let i="affix"+(a?"-"+a:""),o=new t.Event(i+".bs.affix");if(this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"===a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"===a&&this.$element.offset({top:f-i-s})}}e.RESET="affix affix-top affix-bottom",t.fn.affix=function(i){return this.each(function(){let o=t(this),n=o.data("bs.affix"),s="object"==typeof i&&i;n||o.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=e})(jQuery),window.addEventListener("DOMContentLoaded",()=>{const t=CONFIG.sidebar.offset||12,e=document.querySelector(".sidebar-inner"),i=()=>{let e=(()=>document.querySelector(".header-inner").height()+t)(),i=(()=>{let t=document.querySelector("#footer"),e=document.querySelector(".footer-inner"),i=t.offsetHeight-e.offsetHeight;return t.offsetHeight+i})();$(".sidebar-inner").affix({offset:{top:e-t,bottom:i}}),document.querySelector("#sidebar").css({"margin-top":`${e}px`,"margin-left":"auto"})};i(),window.matchMedia("(min-width: 992px)").addListener(t=>{t.matches&&($(window).off(".affix"),$(".sidebar-inner").removeData("bs.affix"),e.classList.remove("affix","affix-top","affix-bottom"),i())})});;NexT.boot={},NexT.boot.registerEvents=function(){NexT.utils.registerScrollPercent(),NexT.utils.registerCanIUseTag(),document.querySelector(".site-nav-toggle button").addEventListener("click",()=>{var e=$(".site-nav"),t=e.hasClass("site-nav-on"),a=t?"slideUp":"slideDown",i=t?"removeClass":"addClass";e.stop()[a]("fast",()=>{e[i]("site-nav-on")})});function e(){var e=document.body.clientHeight-NexT.utils.getSidebarSchemePadding();$(".site-overview-wrap, .post-toc-wrap").css("max-height",e)}$(".sidebar-nav li").on("click",e=>{var t=$(e.currentTarget);if(!t.hasClass("sidebar-nav-active")){var a=$("."+t.data("target")),i=a.siblings(".sidebar-panel");i.animate({opacity:0},200,()=>{i.hide(),a.stop().css({opacity:0,display:"block"}).animate({opacity:1},200,()=>{i.removeClass("sidebar-panel-active","motion-element"),a.addClass("sidebar-panel-active","motion-element")})}),t.siblings().removeClass("sidebar-nav-active"),t.addClass("sidebar-nav-active")}}),e(),window.addEventListener("resize",e),window.addEventListener("hashchange",()=>{var e=location.hash;if(""!==e&&!e.match(/%\S{2}/)){var t=document.querySelector(`.tabs ul.nav-tabs li a[href="${e}"]`);t&&t.click()}})},NexT.boot.refresh=function(){CONFIG.fancybox&&NexT.utils.wrapImageWithFancyBox(),CONFIG.mediumzoom&&window.mediumZoom(".post-body img"),CONFIG.lazyload&&window.lozad(".post-body img").observe(),CONFIG.pangu&&window.pangu.spacingPage(),CONFIG.exturl&&NexT.utils.registerExtURL(),CONFIG.copycode.enable&&NexT.utils.registerCopyCode(),NexT.utils.registerTabsTag(),NexT.utils.registerActiveMenuItem(),NexT.utils.embeddedVideoTransformer();var e=document.querySelector(".sidebar-nav");document.querySelector(".post-toc-wrap").childElementCount>0?(e.style.display="",e.classList.add("motion-element"),document.querySelector(".sidebar-nav-toc").click()):(e.style.display="none",e.classList.remove("motion-element"),document.querySelector(".sidebar-nav-overview").click()),$("table").not(".gist table").wrap('<div class="table-container"></div>')},NexT.boot.motion=function(){CONFIG.motion.enable?NexT.motion.integrator.add(NexT.motion.middleWares.logo).add(NexT.motion.middleWares.menu).add(NexT.motion.middleWares.postList).add(NexT.motion.middleWares.sidebar).bootstrap():NexT.utils.updateSidebarPosition()},window.addEventListener("DOMContentLoaded",()=>{NexT.boot.registerEvents(),NexT.boot.refresh(),NexT.boot.motion()}),window.addEventListener("pjax:success",NexT.boot.refresh);;window.addEventListener("DOMContentLoaded",()=>{let e,t=!1,o=!0,n=CONFIG.path;0===n.length?n="search.xml":/json$/i.test(n)&&(o=!1);const r=CONFIG.root+n,l=document.getElementById("search-input"),s=document.getElementById("search-result"),a=(e,t,o)=>{let n=e.length;if(0===n)return[];let r=0,l=[],s=[];for(o||(t=t.toLowerCase(),e=e.toLowerCase());(l=t.indexOf(e,r))>-1;)s.push({position:l,word:e}),r=l+n;return s},i=(e,t,o,n,r)=>{let l=n[n.length-1],s=l.position,a=l.word,i=[],c=0;for(;s+a.length<=o&&0!==n.length;){a===r&&c++,i.push({position:s,length:a.length});let e=s+a.length;for(n.pop();0!==n.length&&(s=(l=n[n.length-1]).position,a=l.word,e>s);)n.pop()}return{hits:i,start:t,end:o,searchTextCount:c}},c=(e,t)=>{let o="",n=t.start;return t.hits.forEach(t=>{o+=e.substring(n,t.position);let r=t.position+t.length;o+=`<b class="search-keyword">${e.substring(t.position,r)}</b>`,n=r}),o+=e.substring(n,t.end)},h=()=>{let t=l.value.trim().toLowerCase(),o=t.split(/[-\s]+/);o.length>1&&o.push(t);let n=[];if(t.length>0&&e.forEach(e=>{if(!e.title)return;let r=0,l=e.title.trim(),s=l.toLowerCase(),h=e.content?e.content.trim().replace(/<[^>]+>/g,""):"";CONFIG.localsearch.unescape&&(h=(e=>String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#x3A;/g,":").replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t)).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))(h));let u=h.toLowerCase(),p=decodeURIComponent(e.url).replace(/\/{2,}/g,"/"),d=[],g=[];if(o.forEach(e=>{d=d.concat(a(e,s,!1)),g=g.concat(a(e,u,!1))}),d.length>0||g.length>0){let e=d.length+g.length;[d,g].forEach(e=>{e.sort((e,t)=>t.position!==e.position?t.position-e.position:e.word.length-t.word.length)});let o=[];if(0!==d.length){let e=i(0,0,l.length,d,t);r+=e.searchTextCountInSlice,o.push(e)}let s=[];for(;0!==g.length;){let e=g[g.length-1],o=e.position,n=e.word,l=o-20,a=o+80;l<0&&(l=0),a<o+n.length&&(a=o+n.length),a>h.length&&(a=h.length);let c=i(0,l,a,g,t);r+=c.searchTextCountInSlice,s.push(c)}s.sort((e,t)=>e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hits.length!==t.hits.length?t.hits.length-e.hits.length:e.start-t.start);let a=parseInt(CONFIG.localsearch.top_n_per_article,10);a>=0&&(s=s.slice(0,a));let u="";0!==o.length?u+=`<li><a href="${p}" class="search-result-title">${c(l,o[0])}</a>`:u+=`<li><a href="${p}" class="search-result-title">${l}</a>`,s.forEach(e=>{u+=`<a href="${p}"><p class="search-result">${c(h,e)}...</p></a>`}),u+="</li>",n.push({item:u,searchTextCount:r,hitCount:e,id:n.length})}}),1===o.length&&""===o[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x"></i></div>';else if(0===n.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>';else{n.sort((e,t)=>e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hitCount!==t.hitCount?t.hitCount-e.hitCount:t.id-e.id);let e='<ul class="search-result-list">';n.forEach(t=>{e+=t.item}),e+="</ul>",s.innerHTML=e,window.pjax&&window.pjax.refresh(s)}},u=n=>{fetch(r).then(e=>e.text()).then(r=>{t=!0,e=o?$("entry",r).map((e,t)=>({title:$("title",t).text(),content:$("content",t).text(),url:$("url",t).text()})).get():JSON.parse(r),document.querySelector(".search-pop-overlay").innerHTML="",document.body.style.overflow="",n&&n()})};CONFIG.localsearch.preload&&u();const p=()=>{document.body.style.overflow="hidden",document.querySelector(".search-pop-overlay").style.display="block",document.querySelector(".popup").style.display="block",document.getElementById("search-input").focus()};"auto"===CONFIG.localsearch.trigger?l.addEventListener("input",h):(document.querySelector(".search-icon").addEventListener("click",h),l.addEventListener("keypress",e=>{13===e.keyCode&&h()})),document.querySelector(".popup-trigger").addEventListener("click",e=>{e.stopPropagation(),!1===t?(document.querySelector(".search-pop-overlay").style.display="",document.querySelector(".search-pop-overlay").innerHTML='<div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div>',document.querySelector("#search-loading-icon").css({margin:"20% auto 0 auto","text-align":"center"}),u(p)):p()});const d=()=>{document.body.style.overflow="",document.querySelector(".search-pop-overlay").style.display="none",document.querySelector(".popup").style.display="none"};document.querySelector(".search-pop-overlay").addEventListener("click",d),document.querySelector(".popup-btn-close").addEventListener("click",d),window.addEventListener("pjax:success",d),window.addEventListener("keyup",e=>{27===e.which&&document.querySelector(".popup").isVisible()&&d()})});;(t=>{"use strict";function s(s,e){this.$body=t(document.body),this.$scrollElement=t(s).is(document.body)?t(window):t(s),this.options=Object.assign({offset:10},e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var o=t(this),i=o.data("bs.scrollspy"),r="object"==typeof e&&e;i||o.data("bs.scrollspy",i=new s(this,r)),"string"==typeof e&&i[e]()})}t.isFunction(t.fn.scrollspy)||(s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,e="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(e="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),i=s.data("target")||s.attr("href"),r=/^#./.test(i)&&t(NexT.utils.escapeSelector(i));return r&&r.length&&r.is(":visible")&&[[r[e]().top+o,i]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var s,e=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),i=this.options.offset+o-this.$scrollElement.height(),r=this.offsets,l=this.targets,c=this.activeTarget;if(this.scrollHeight!==o&&this.refresh(),e>=i)return c!==(s=l[l.length-1])&&this.activate(s);if(c&&e<r[0])return t(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(s=r.length;s--;)c!==l[s]&&e>=r[s]&&(!r[s+1]||e<=r[s+1])&&this.activate(l[s])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var e=`${this.selector}[data-target="${s}"],${this.selector}[href="${s}"]`,o=t(e).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")},t.fn.scrollspy=e,t.fn.scrollspy.Constructor=s,t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);e.call(s,s.data())})}))})(jQuery),function(){var t=$(".post-toc"),s=".active-current";function e(){t.find(s).removeClass(s.substring(1))}t.on("activate.bs.scrollspy",()=>{var s=t.find(".active").last();e(),s.addClass("active-current"),t.scrollTop(s.offset().top-t.offset().top+t.scrollTop()-t.height()/2)}).on("clear.bs.scrollspy",e),$("body").scrollspy({target:".post-toc"}),t.find("a").on("click",t=>{t.preventDefault();var s=NexT.utils.escapeSelector(t.currentTarget.getAttribute("href")),e=$(s).offset().top;$(document.documentElement).stop().animate({scrollTop:e},500)})}();